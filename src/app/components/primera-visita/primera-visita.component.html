<div class="primera-visita-container animate-in">
  <div class="form-header">
    <h1>Primera Visita</h1>
    <p>Registra los detalles de tu primera visita</p>
  </div>

  <form [formGroup]="visitaForm" (ngSubmit)="onSubmit()" class="visita-form">
    <div class="form-grid">
      <div class="field">
        <label for="nombres">Nombres</label>
        <input id="nombres" type="text" pInputText formControlName="nombres" placeholder="Ingrese los nombres" />
        <small class="p-error" *ngIf="visitaForm.get('nombres')?.invalid && visitaForm.get('nombres')?.touched">
          Este campo es requerido
        </small>
      </div>

      <div class="field">
        <label for="fecha">Fecha</label>
        <p-calendar id="fecha" formControlName="fecha" [showIcon]="true"></p-calendar>
        <small class="p-error" *ngIf="visitaForm.get('fecha')?.invalid && visitaForm.get('fecha')?.touched">
          Este campo es requerido
        </small>
      </div>

      <div class="field">
        <label for="duracion">Duraci贸n (minutos)</label>
        <p-inputNumber id="duracion" formControlName="duracion" [min]="1" placeholder="Ingrese la duraci贸n"></p-inputNumber>
        <small class="p-error" *ngIf="visitaForm.get('duracion')?.invalid && visitaForm.get('duracion')?.touched">
          Este campo es requerido y debe ser mayor a 0
        </small>
      </div>

      <div class="field">
        <label for="tipoPersona">Tipo de Persona</label>
        <p-dropdown id="tipoPersona" [options]="tiposPersona" formControlName="tipoPersona" placeholder="Seleccione un tipo"></p-dropdown>
        <small class="p-error" *ngIf="visitaForm.get('tipoPersona')?.invalid && visitaForm.get('tipoPersona')?.touched">
          Este campo es requerido
        </small>
      </div>

      <div class="field col-12">
        <label for="preguntaInicial">Pregunta Inicial</label>
        <textarea id="preguntaInicial" pInputTextarea formControlName="preguntaInicial" rows="3" placeholder="Ingrese la pregunta inicial"></textarea>
        <small class="p-error" *ngIf="visitaForm.get('preguntaInicial')?.invalid && visitaForm.get('preguntaInicial')?.touched">
          Este campo es requerido
        </small>
      </div>

      <div class="field col-12">
        <label for="inquietudAmo">Inquietud AMO</label>
        <textarea id="inquietudAmo" pInputTextarea formControlName="inquietudAmo" rows="3" placeholder="Ingrese la inquietud AMO"></textarea>
      </div>

      <div class="field col-12">
        <label for="datosPersonales">Datos Personales</label>
        <textarea id="datosPersonales" pInputTextarea formControlName="datosPersonales" rows="3" placeholder="Ingrese datos personales adicionales"></textarea>
      </div>

      <div class="field">
        <label for="direccion">Direcci贸n</label>
        <textarea id="direccion" pInputTextarea formControlName="direccion" rows="3" placeholder="Ingrese la direcci贸n"></textarea>
        <small class="p-error" *ngIf="visitaForm.get('direccion')?.invalid && visitaForm.get('direccion')?.touched">
          Este campo es requerido
        </small>
      </div>

      <div class="field">
        <label for="preguntaPendiente">Pregunta Pendiente</label>
        <textarea id="preguntaPendiente" pInputTextarea formControlName="preguntaPendiente" rows="3" placeholder="Ingrese la pregunta pendiente"></textarea>
      </div>
    </div>

    <div class="button-container">
      <p-button type="button" label="Cancelar" (onClick)="onCancel()" styleClass="p-button-text"></p-button>
      <p-button type="submit" label="Guardar" [disabled]="!visitaForm.valid"></p-button>
    </div>
  </form>
</div>

<p-toast></p-toast>